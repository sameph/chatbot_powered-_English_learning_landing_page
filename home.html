<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  {% if title %}
    <title>EGPT-{{ title }}</title>
  {% else: %}
    <title>Chatbot Powered Language Learning Platform</title>
  {% endif %}
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{{url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='vendor/aos/aos.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='vendor/glightbox/css/glightbox.min.css')}}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="{{url_for('static', filename='css/main.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='css/chatbot.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='css/about.css')}}" rel="stylesheet">
  <link href="{{url_for('static', filename='css/contact.css')}}" rel="stylesheet">

</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="{{url_for('main.home')}}" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <img src="{{url_for('static', filename='img/egpt.png')}}" alt="">
        <!-- <h1 class="sitename">EGPT</h1> -->
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="{{url_for('main.home')}}" class="active">Home</a></li>
          <li><a href="{{url_for('main.about')}}">About</a></li>
          {% if current_user.is_authenticated %}
            <li><a href="{{url_for('main.learning')}}">Learning</a></li>
          {%endif %}
          <li><a href="{{url_for('main.dictionary')}}">Dictionary</a></li>
          <li><a href="{{url_for('main.contact_us')}}">Contact</a></li>
          {% if current_user.is_authenticated %}
          <li class="dropdown"><a href="#"><span> {{current_user.username}}</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="{{url_for('users.logout')}}">logout</a></li>
              <li class="dropdown"><a href="#"><span>Learning</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                  <li><a href="{{ url_for('main.service_detail', service_name='Vocabulary Mastery'.replace(' ', '_'))}}">Vocabulary Mastery</a></li>
                  <li><a href="{{ url_for('main.service_detail', service_name='Grammar Essentials'.replace(' ', '_'))}}">Grammar Essentials</a></li>
                  <li><a href="{{ url_for('main.service_detail', service_name='Speaking Fluency'.replace(' ', '_'))}}">Speaking Fluency</a></li>
                  <li><a href="{{ url_for('main.service_detail', service_name='Listening Skills'.replace(' ', '_'))}}">Listening Skills</a></li>
                  <li><a href="{{ url_for('main.service_detail', service_name='Writing Proficiency'.replace(' ', '_'))}}">Writing Proficiency</a></li>
                  <li><a href="{{ url_for('main.service_detail', service_name='Reading Comprehension'.replace(' ', '_'))}}">Reading Comprehension</a></li>
                </ul>
              </li>
              <li><a href="{{url_for('users.account')}}">My profile</a></li>
              <!-- <li><a href="#">Dropdown 3</a></li>
              <li><a href="#">Dropdown 4</a></li> -->
            </ul>
          </li>
          {%else:%}
            <li><a href="{{ url_for('users.register') }}">Login/SignUp</a></li>
          {%endif%}

        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>
  <main>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <small class="alert alert-{{ category }}" style="top: 100px;">
            {{ message }}
          </small>
        {% endfor %}
      {% endif %}
    {% endwith %}

<main class="main">

  <!-- Hero Section -->
  <section id="hero" class="hero section light-background">

    <div class="container position-relative" data-aos="fade-up" data-aos-delay="100">
      <div class="row gy-5">
        <div class="col-lg-6 order-2 order-lg-1 d-flex flex-column justify-content-center">
          <h2>Welcome to EGPT</h2>
          <p>Experience the future of language learning with our chatbot-powered platform. Learn at your own pace with personalized lessons tailored to your needs.</p>
          <div class="d-flex">
            <a href="#about" class="btn-get-started">Get Started</a>
            <a href="https://www.youtube.com/watch?v=Y7f98aduVJ8" class="glightbox btn-watch-video d-flex align-items-center"><i class="bi bi-play-circle"></i><span>Watch Video</span></a>
          </div>
        </div>
        <div class="col-lg-6 order-1 order-lg-2">
          <img src="{{url_for('static', filename='img/smaller (1).png')}}" class="img-fluid" alt="">
        </div>
      </div>
    </div>

    <div class="icon-boxes position-relative" data-aos="fade-up" data-aos-delay="200">
      <div class="container position-relative">
        <div class="row gy-4 mt-5">

          <div class="col-xl-3 col-md-6">
            <div class="icon-box">
              <div class="icon"><i class="bi bi-chat-square-dots"></i></div>
              <h4 class="title"><a href="" class="stretched-link">Interactive Chatbot</a></h4>
              <p>Engage with our AI chatbot to practice conversations in real-time.</p>
            </div>
          </div><!--End Icon Box -->

          <div class="col-xl-3 col-md-6">
            <div class="icon-box">
              <div class="icon"><i class="bi bi-book"></i></div>
              <h4 class="title"><a href="" class="stretched-link">Personalized Lessons</a></h4>
              <p>Receive lessons tailored to your learning style and pace.</p>
            </div>
          </div><!--End Icon Box -->

          <div class="col-xl-3 col-md-6">
            <div class="icon-box">
              <div class="icon"><i class="bi bi-laptop"></i></div>
              <h4 class="title"><a href="" class="stretched-link">Flexible Learning</a></h4>
              <p>Learn anytime, anywhere with our online platform.</p>
            </div>
          </div><!--End Icon Box -->

          <div class="col-xl-3 col-md-6">
            <div class="icon-box">
              <div class="icon"><i class="bi bi-globe"></i></div>
              <h4 class="title"><a href="" class="stretched-link">Global Community</a></h4>
              <p>Join a global community of learners and share your progress.</p>
            </div>
          </div><!--End Icon Box -->

        </div>
      </div>
    </div>
  </section><!-- /Hero Section -->

<!-- Chatbot Section -->
<div id="chatbot" class="chatbot-container">
  <div class="chatbot-header">
    <h5>Chat with us!</h5>
    <button id="chatbot-close" class="chatbot-close">&times;</button>
  </div>
  <div id="chatbot-messages" class="chatbot-messages">
    <!-- Messages will appear here -->
  </div>
  <div class="chatbot-input-container">
    <input id="chatbot-input" type="text" placeholder="Type your message...">
    <button id="chatbot-send" class="chatbot-send">Send</button>
  </div>
</div>
<button id="chatbot-toggle" class="chatbot-toggle">Chat</button>

<!-- Scroll Top -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Preloader -->
<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="{{url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
<script src="{{url_for('static', filename='vendor/php-email-form/validate.js')}}"></script>
<script src="{{url_for('static', filename='vendor/aos/aos.js')}}"></script>
<script src="{{url_for('static', filename='vendor/glightbox/js/glightbox.min.js')}}"></script>

<!-- Main JS File -->
<script src="{{url_for('static', filename='js/main.js')}}"></script>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const chatbotInput = document.getElementById('chatbot-input');
    const chatbotMessages = document.getElementById('chatbot-messages');
    const chatbotSend = document.getElementById('chatbot-send');
    const chatbotToggle = document.getElementById('chatbot-toggle');
    const chatbotClose = document.getElementById('chatbot-close');
    const chatbot = document.getElementById('chatbot');

    // Function to add message to the chat window
    function addMessageToChat(message, sender) {
      const messageElement = document.createElement('div');
      messageElement.classList.add('chatbot-message', sender);
      messageElement.textContent = message;
      chatbotMessages.appendChild(messageElement);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;  // Scroll to the bottom
    }

    // Send message to the Flask backend when user presses "Send"
    chatbotSend.addEventListener('click', async function () {
      const message = chatbotInput.value.trim();
      if (message) {
        addMessageToChat(message, 'user');  // Add user message to chat
        chatbotInput.value = '';  // Clear input field

        try {
          const response = await axios.post('/chatbot', { message });
          if (response.data.response) {
            addMessageToChat(response.data.response, 'bot');  // Add bot response to chat
          }
        } catch (error) {
          addMessageToChat('Error occurred. Please try again.', 'bot');
        }
      }
    });

    // Toggle chatbot window
    chatbotToggle.addEventListener('click', function () {
      chatbot.classList.toggle('open');
    });

    chatbotClose.addEventListener('click', function () {
      chatbot.classList.remove('open');
    });
  });
</script>

</body>

</html>wqa  